theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = df3, aes(x = year0+3, y = net/1e03, group=WPP, colour=as.factor(wpp),
shape = base_year1)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != ""), alpha = 0.5) +
geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 5) +
geom_point() +
scale_colour_viridis_d(direction = -1) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "Point:") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = df3, aes(x = year0+3, y = net/1e03, group=WPP, colour=as.factor(wpp),
shape = base_year1)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != ""), alpha = 0.5) +
geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 6) +
geom_point() +
scale_colour_viridis_d(direction = -1) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "Point:") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = df3, aes(x = year0+3, y = net/1e03, group=WPP, colour=as.factor(wpp),
shape = base_year1)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != ""), alpha = 0.5) +
geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 7) +
geom_point() +
scale_colour_viridis_d(direction = -1) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "Point:") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = df3 %>% filter(base_year1 != ""),
mapping = aes(x = year0+3, y = net/1e03, group=WPP, colour=as.factor(wpp),
shape = base_year1)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != "")) +
geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 3) +
geom_point() +
# transition_reveal(along = year0+3) +
transition_states(states = wpp,
transition_length = 2,
state_length = 5) +
shadow_mark(alpha = 0.2) +
scale_colour_viridis_d(direction = -1) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "") +
theme_dark() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = df3, aes(x = year0+3, y = net/1e03, group=WPP, colour=as.factor(wpp),
shape = base_year1)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != ""), alpha = 0.5) +
geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 7) +
geom_point() +
scale_colour_viridis_d(direction = -1) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "Point:") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = df3, aes(x = year0+3, y = net/1e03, group=WPP, colour=as.factor(wpp),
shape = base_year1)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != ""), alpha = 0.5) +
geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 3) +
geom_point() +
scale_colour_viridis_d(direction = -1) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "Point:") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = df3, aes(x = year0+3, y = net/1e03, group=WPP, colour=as.factor(wpp),
shape = base_year1)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != ""), alpha = 0.5) +
geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 3) +
geom_point() +
scale_colour_viridis_d(direction = -1) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", linetype = "", shape = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
d3 <- df3 %>%
filter(data_type == "Estimates" | base_year1 != "") %>%
mutate(part = "Estimates")
d4 <- df3 %>%
filter(data_type == "Estimates" | base_year1 != "") %>%
mutate(part = "Estimates")
d4 <- df3 %>%
filter(data_type != "Estimates") %>%
mutate(part = "Projection") %>%
bind_rows(d4)
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, group=WPP, colour=as.factor(wpp),
shape = base_year1, group = part, linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
# geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != "")) +
# geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 3) +
geom_line() +
geom_point()
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour=as.factor(wpp),
shape = base_year1, group = part, linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
# geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != "")) +
# geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 3) +
geom_line() +
geom_point()
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03,
shape = base_year1, group = part, linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
# geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != "")) +
# geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 3) +
geom_line() +
geom_point()
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03,
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
# geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != "")) +
# geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 3) +
geom_line() +
geom_point()
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
# geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != "")) +
# geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 3) +
geom_line() +
geom_point()
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
# geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != "")) +
# geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 3) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.2) +
scale_colour_viridis_d(direction = -1) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "") +
theme_dark() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
# geom_line(data = df3 %>% filter(data_type == "Estimates" | base_year1 != "")) +
# geom_line(data = df3 %>% filter(data_type != "Estimates"), linetype = 3) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.2) +
scale_colour_viridis_d(direction = -1) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
transition_states(states = wpp,
transition_length = 2,
state_length = 5) +
shadow_mark(alpha = 0.2) +
scale_colour_viridis_d(direction = -1) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, begin = 1990) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, begin = 0.2) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, range = 1:10) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, begin = 0, end = .75) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, end = 0.8) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, end = 0.9) +
scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, end = 0.9) +
# scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
# transition_reveal(along = year0+3) +
transition_states(states = wpp,
transition_length = 2,
state_length = 5) +
shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, end = 0.9) +
# scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
d4 <- df3 %>%
filter(data_type == "Estimates" | base_year1 != "") %>%
mutate(part = "Estimates")
d4 <- df3 %>%
filter(data_type != "Estimates") %>%
mutate(part = "Projection") %>%
bind_rows(d4) %>%
arrange(wpp, year0, part) %>%
mutate(x_reveal = row_number())
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
transition_reveal(along = x_reveal) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, end = 0.9) +
# scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
d4 <- df3 %>%
filter(data_type == "Estimates" | base_year1 != "") %>%
mutate(part = "Estimate")
d4 <- df3 %>%
filter(data_type != "Estimates") %>%
mutate(part = "Projection") %>%
bind_rows(d4) %>%
arrange(wpp, year0, part) %>%
mutate(x_reveal = row_number())
library(gganimate)
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
transition_reveal(along = x_reveal) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, end = 0.9) +
# scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
anim_save("./plot/plot_wpp_net_blog2.gif", width = 8, height = 6)
?transition_reveal
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
transition_reveal(along = x_reveal) +
# transition_states(states = wpp,
#                   transition_length = 2,
#                   state_length = 5) +
shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, end = 0.9) +
# scale_alpha_discrete(range = c(0.25, 1)) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
transition_reveal(along = x_reveal) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, end = 0.9) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
anim_save("./plot/plot_wpp_net_blog2.gif", width = 12, height = 10)
anim_save("./plot/plot_wpp_net_blog2.gif", width = 12, height = 8)
g <- ggplot(data = d4,
mapping = aes(x = year0+3, y = net/1e03, colour = as.factor(WPP),
shape = base_year1, group = interaction(part, WPP), linetype = part)) +
facet_wrap(~ reg_name, ncol = 3, scales="free", labeller = label_wrap_gen(width = 18)) +
geom_line() +
geom_point() +
transition_reveal(along = x_reveal) +
# shadow_mark(alpha = 0.5) +
scale_colour_viridis_d(direction = -1, end = 0.9) +
scale_shape_manual(values = c(16, NA)) +
guides(shape = FALSE) +
labs(y="Net Migration (millions)", x = "Year", colour = "WPP Version", alpha = "Shading:", shape = "", linetype = "") +
theme_bw() +
theme(panel.spacing = unit(1.5, "lines"), legend.position="right")
anim_save("./plot/plot_wpp_net_blog2.gif", animation = g, width = 12, height = 8)
anim_save("./plot/plot_wpp_net_blog2.gif", animation = g, width = 12, height = 8, units = "cm")
anim_save("./plot/plot_wpp_net_blog2.gif", animation = g, width = 720, height = 500, units = "px")
ggplot(data = df2,
mapping = aes(x = year0+3, y = net/1e03, group = name, colour = area_name)) +
# geom_vline(aes(xintercept = base_year0+3)) +
facet_wrap(~ WPP, nrow = 3) +
geom_line(alpha = 0.5) +
scale_colour_brewer(palette = "Set1", labels = wrap_format(20)) +
scale_x_continuous(labels = seq(1950, 2100, 50), breaks = seq(1950, 2100, 50)) +
geom_segment(data = df3, mapping = aes(x = base_year0 +3, xend = base_year0+3, y = -5, yend = 11), colour = "black") +
# scale_alpha_discrete(range = c(0.8, 0.4)) +
# scale_y_continuous(breaks = c(-2.5,0,2.5,5,7.5)) +
coord_trans(y = "log_modulus") +
labs(y="Net Migration (millions)", x = "Year", colour = "Country Location", alpha = "Data") +
theme_bw() +
theme(legend.position="bottom")
ggplot(data = df2,
mapping = aes(x = year0+3, y = net/1e03, group = name, colour = area_name)) +
# geom_vline(aes(xintercept = base_year0+3)) +
facet_wrap(~ WPP, nrow = 3) +
geom_line(alpha = 0.5) +
scale_colour_brewer(palette = "Set1", labels = wrap_format(20)) +
scale_x_continuous(labels = seq(1950, 2100, 50), breaks = seq(1950, 2100, 50)) +
geom_segment(data = df3, mapping = aes(x = base_year0 +3, xend = base_year0+3, y = -5, yend = 11), colour = "black") +
# scale_alpha_discrete(range = c(0.8, 0.4)) +
# scale_y_continuous(breaks = c(-2.5,0,2.5,5,7.5)) +
coord_trans(y = "log_modulus") +
labs(y="Net Migration (millions)", x = "Year", colour = "Country Location", alpha = "Data") +
theme_bw() +
theme(legend.position="bottom") +
guides(colour = guide_legend(override.aes = list(alpha = 1)))
ggplot(data = df2,
mapping = aes(x = year0+3, y = net/1e03, group = name, colour = area_name)) +
# geom_vline(aes(xintercept = base_year0+3)) +
facet_wrap(~ WPP, nrow = 3) +
geom_line(alpha = 0.5) +
scale_colour_brewer(palette = "Set2", labels = wrap_format(20)) +
scale_x_continuous(labels = seq(1950, 2100, 50), breaks = seq(1950, 2100, 50)) +
geom_segment(data = df3, mapping = aes(x = base_year0 +3, xend = base_year0+3, y = -5, yend = 11), colour = "black") +
# scale_alpha_discrete(range = c(0.8, 0.4)) +
# scale_y_continuous(breaks = c(-2.5,0,2.5,5,7.5)) +
coord_trans(y = "log_modulus") +
labs(y="Net Migration (millions)", x = "Year", colour = "Country Location", alpha = "Data") +
theme_bw() +
theme(legend.position="bottom") +
guides(colour = guide_legend(override.aes = list(alpha = 1)))
ggplot(data = df2,
mapping = aes(x = year0+3, y = net/1e03, group = name, colour = area_name)) +
# geom_vline(aes(xintercept = base_year0+3)) +
facet_wrap(~ WPP, nrow = 3) +
geom_line(alpha = 0.5) +
scale_colour_brewer(palette = "Set1", labels = wrap_format(20)) +
scale_x_continuous(labels = seq(1950, 2100, 50), breaks = seq(1950, 2100, 50)) +
geom_segment(data = df3, mapping = aes(x = base_year0 +3, xend = base_year0+3, y = -5, yend = 11), colour = "black") +
# scale_alpha_discrete(range = c(0.8, 0.4)) +
# scale_y_continuous(breaks = c(-2.5,0,2.5,5,7.5)) +
coord_trans(y = "log_modulus") +
labs(y="Net Migration (millions)", x = "Year", colour = "Country Location", alpha = "Data") +
theme_bw() +
theme(legend.position="bottom") +
guides(colour = guide_legend(override.aes = list(alpha = 1)))
ggsave(file="./plot/plot_wpp_net_blog1.png", scale = 1, width = 6, height = 9)
file.show("./plot/plot_wpp_net_blog1.png")
serve_site()
